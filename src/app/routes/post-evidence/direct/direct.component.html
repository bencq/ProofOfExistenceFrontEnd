<page-header [title]="'上链存证'" [autoBreadcrumb]="false"></page-header>

<form nz-form [formGroup]="form" (ngSubmit)="submit()" [nzLayout]="'vertical'" labelWidth="200">
  <nz-card [nzTitle]="nzCardTitle" [nzBorderless]="false" [nzBodyStyle]="{ 'border-color': 'silver' }">
    <ng-template #nzCardTitle>
      <h3>直接上链存证</h3>
      <nz-card-meta nzDescription="简单输入数据，即可完成上链存证"> </nz-card-meta>
    </ng-template>
    <nz-row [nzGutter]="0">
      <nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label nzRequired nzFor="evidenceData">
            <label ngClass="mLabel">
              <i nz-icon [nzType]="'file'"></i>
              <span>上链内容</span>
            </label>
          </nz-form-label>
          <nz-form-control nzErrorTip="请输入需要上链的数据">
            <textarea nz-input formControlName="evidenceData" [nzAutosize]="{ minRows: 16 }" placeholder="..."></textarea>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label>
            <label ngClass="mLabel">
              <span [style]="{ color: evidenceName.value ? 'black' : 'rgb(0,0,0,0.25)' }">存证名称</span>
              <i
                nz-tooltip
                nzTooltipTitle="可选项，给定存证的名称，用于标识存证，方便之后存证的检索。"
                nz-icon
                nzType="question-circle"
                nzTheme="outline"
                style="margin-left: 4px"
              ></i>
            </label>
          </nz-form-label>
          <nz-form-control
            nzFor="evidenceName"
            [nzErrorTip]="'请输入存证的名称，最多' + evidenceNameMaxChar + '字符，不能包含空格'"
            [nzSpan]="8"
          >
            <nz-input-group [nzSuffix]="evidenceNameClearTpl" style="width: 100%">
              <input nz-input formControlName="evidenceName" placeholder="" />
              <ng-template #evidenceNameClearTpl>
                <i
                  nz-icon
                  class="ant-input-clear-icon"
                  nzTheme="fill"
                  nzType="close-circle"
                  *ngIf="evidenceName.value"
                  (click)="evidenceName.setValue(null)"
                ></i>
              </ng-template>
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </nz-col>
      <nz-col [nzSpan]="1"></nz-col>
      <!-- <nz-col [nzSpan]="1"></nz-col>
      <nz-col [nzSpan]="5">
        <nz-form-item>
          <nz-form-label nzFor="username"><i nz-icon [nzType]="'user'"></i>上链用户</nz-form-label>
          <nz-form-control nzErrorTip="请选择上链的用户">
            <nz-select *ngIf="isLoading" [nzPlaceHolder]="'...'" formControlName="username">
              <ng-container *ngFor="let opt of optionList">
                <nz-option *ngIf="isLoading" [nzValue]="opt" [nzLabel]="opt"></nz-option>
              </ng-container>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </nz-col> -->
    </nz-row>
  </nz-card>
  <nz-card nzTitle="">
    <nz-row [nzGutter]="0">
      <nz-col [nzSm]="24">
        <nz-form-item>
          <!-- <nz-form-label nzFor="name"></nz-form-label> -->
          <nz-form-control nzErrorTip="---">
            <button nz-button nzType="primary" nzSize="large" [disabled]="form.invalid" type="submit" [nzLoading]="submitting">提交</button>
            <!-- <button nz-button class="ml-sm">保存</button> -->
          </nz-form-control>
        </nz-form-item>
      </nz-col>
    </nz-row>
  </nz-card>
</form>
